
	nntplib		NNTP ライブラリ

修正履歴
	Ver 0.10
		(1) 初期版を作成しました。
	Ver 0.20
		(1) 記事の先頭に "." を含んでいるとエラーを起こすバグを修正
		    しました。
	Ver 0.30
		(1) -q オプション指定時に致命的エラーが表示されないバグを修
		    正しました。
	Ver 0.40
		(1) NNTP プロトコルエラー発生時の処理を改良しました。
	Ver 0.50
		(1) コードを改変しました。記事がキャンセルされていた場合に
		    エラーになるバグを修正しました。
	Ver 0.60
		(1) 記事ヘッダと本文のみを取得するサービス関数を追加しまし
		    た。
	Ver 0.70
		(1) ニュースサーバがローカルな場合、NNTP 接続せずにスプール
		    を調べにいくようにしました。
	Ver 0.80
		(1) Connect 時にレスポンスコードが 201 のサーバではエラーに
		    なるバグを修正しました。
		(2) ローカルサーバの自動判定のバグを修正しました。
	Ver 0.90
		(1) NNTP サーバがポスト可能かどうかをチェックする機能を追加
		    しました。
	Ver 0.92
		(1) ヘッダフィールドの最大長などの定義をより良い値に修正しま
		    した。
	Ver 0.94
		(1) 環境変数 NNTPSERVER と /usr/local/lib/default-server の
		    双方で指定がない場合でも自ホストにニューススプールを持つ
		    場合は自動判別で自ホストをニュースサーバと解釈するように
		    しました。(村上さんの案を採用しました)
		(2) 不正な記事数のグループは記事数 0 として扱うようにしまし
		    た。
	Ver 0.96
		(1) Message-ID による記事の検索機能を追加しました。
	Ver 0.98
		(1) ローカル接続時にヘッダフィールド以外もヘッダとみなしてし
		    まうバグを修正しました。
		(2) Followup-To フィールドの define を加えました。
	Ver 1.00
		(1) NNTP/inews による記事投稿機能を追加しました。
		(2) 強制 NNTP 接続モードが設定できるようになりました。
		(3) 障害により NNTP 接続が切断した場合に落ちることがあるバグ
		    を修正しました。
		(4) 障害により NNTP 接続が切断した場合に無限ループに入ることが
		    あるバグを修正しました。
		(5) . のみの行を含む記事を NNTP 経由でポストすると誤動作する
		    バグを修正しました。
	Ver 1.02
		(1) 使用メモリ量を少し減らしました。
		(2) NNTP 使用時にポストすると Path: フィールドが正しく生成され
		    ないことがあるバグを修正しました。
	Ver 1.10
		(1) ニュースグループ構造を動的にアロケートするようにし、上限を
		    なくしました。
		(2) これによりニュースグループ数が少ない場合は使用メモリ量が
		    減少しました。ただし処理速度がかなり低下しました。
	Ver 1.12
		(1) ニュースグループ名を動的にアロケートするようにしました。
		    これにより使用メモリ量が減少しました。
	Ver 1.14
		(1) ニュースグループ動的アロケート時のソート処理を改善し高速化
		    しました。
		(2) inews の起動処理にパイプを使用するようにしました。
	Ver 1.16
		(1) ニュースサーバで message_id 指定による記事検索を行なうと
		    落ちる不具合を修正しました。
	Ver 1.18
		(1) ニュースグループ名に . と同じ位置に記号が混じっていた場
		    合のソート順序を改良しました。
		    オプションなしではニュース構造体をソートしないようにしま
		    した。
	Ver 1.20
		(1) inews によるパイプ実行時のエラーなどが表示されることが
		    あった部分を修正しました。
	Ver 1.22
		(1) ニュースサーバが死ぬと Broken Pipe することがある不具合を
		    修正しました。
	Ver 1.24
		(1) NEWS, DEC で make できるようにしました。
	Ver 1.26
		(1) NEXT で make できるようにしました。
		    ポインタ演算時に余分なポインタ参照をなくしました。
	Ver 1.28
		(1) X-Nsubject: フィールドに暫定対応しました。
	Ver 1.30
		(1) nntp_field で subject = NULL を指定していてかつ X-Nsubject:
		    を使用していると Segmentation Fault する不具合を修正しま
		    した。
	Ver 1.32
		(1) 最小記事番号を 0 と返すニュースサーバの場合のエラー処理を
		    加えました。
		(2) ニュースサーバ上の active 情報が重複していた場合のエラー
		    処理を追加しました。
	Ver 1.34
		(1) EWS4800 に暫定対応しました。
	Ver 1.36
		(1) JIS 復元ルーチンを JIS の新/旧を切替えられる kanjilib に
		    対応しました。
	Ver 1.38
		(1) ホストのエイリアスのアドレス取得部分が間違っている不具合
		    を修正しました。(cc なら偶然動いたようですが gcc なら該当
		    部分でほぼ確実に落ちます。)
		(2) 新規ニュースグループで記事数が 0 のグループのモードが
		    y/n/m のいずれでもなく - と判断される不具合を修正しました。
	Ver 1.40
		(1) . で始まる記事の処理が不適切であった不具合を修正しました。
	Ver 1.42
		(1) コメントの全角括弧を半角括弧にしました。
		(2) INN チェックが mnews 独自の strindex 関数依存していた部分
		    を修正しました。
	Ver 1.44
		(1) static 関数の宣言をヘッダファイルからソース本体に移動しま
		    した。
	Ver 1.46
		(1) /bin/cc でコンパイルしても Warning がでないようにしました。
	Ver 1.50
		(1) Solaris 2.X 対応しました。
	Ver 1.52
		(1) SVR4 に対応しました。
	Ver 1.54
		(1) SUN-OS 3.X に暫定対応しました。
	Ver 1.56
		(1) ANSI-C に暫定対応しました。
		(2) . で始まるニュースグループ名があると誤動作する不具合を
		    修正しました。
	Ver 1.58
		(1) default-server ファイルをコンフィグ可能にしました。
	Ver 1.60
		(1) MS-DOS に暫定対応しました。(未テスト)
	Ver 1.62
		(1) description 取得関数を追加しました。
	Ver 1.64
		(1) メモリ割り当て部分を realloc にして高速化&省メモリ化しま
		    した。
	Ver 1.70
		(1) 特定のニュースグループを無視する機能を追加しました。
	Ver 1.72
		(1) 特定以外のニュースグループを無視する機能を追加しました。
	Ver 1.74
		(1) MS-DOS 対応コードを高速化しました。
	Ver 1.76
		(1) ホスト名に inn という文字列を含むと INN チェックが誤動作
		    する不具合を修正しました。
	Ver 1.80
		(1) XOVER に暫定対応しました。
		    (情報さんきゅ吉富@富士通さん)
	Ver 1.90
		(1) INN の Authority 対応を変更しました。
	Ver 1.92						1995-06/27
		(1) マイナーチェンジ版です。
	Ver 1.94						1995-07/13
		(1) ソースを若干整形しました。
	Ver 2.00						1996-02/18
		(1) SMTP ライブラリとの競合を避けるようにしました。
	Ver 2.02						1996-05/26
		(1) MAXHOSTNAMELEN を定義しました。
	Ver 2.04						1996-09/23
		(1) X680x0 の TCP/IP Pack に暫定対応しました。
		    (情報さんきゅ白方@大阪市大さん)
	Ver 2.06						1996-10/13
		(1) nntplib.[ch] と tcplib.[ch] に分離しました。
	Ver 2.10						1996-11/04
		(1) Winsock に暫定対応しました。
		(2) エラー処理を全面改定しました。
		(3) nntp_noop 関数を追加しました。
		(4) HEAD コマンドの最後に空行を返すサーバに対応しました。
	Ver 2.12						1996-12/03
		(1) 憲章が日本語の場合 ESC を通さない不具合を修正しま
		    した。
		(2) X680x0 の TCP/IP Pack 対応が不完全だった部分を修正
		    しました。
	Ver 2.14						1997-01/19
		(1) ANSI-C に準拠しました。
		(2) OS/2 の EMX 0.9c(gcc 2.7.2.1 ベース)に暫定対応しました。
	Ver 2.20						1997-03/09
		(1) ソースを整理しました。
	Ver 2.22						1997-06/01
		(1) SEND_PROGRAM がコマンド名のみの場合 stat しないように
		    しました。
	Ver 2.24						1997-06/22
		(1) マイナーチェンジしました。
	Ver 2.26						1997-07/31
		(1) mnews 1.20PL6 の自動マーク機能に対応できるように
		    nntp_xover 関数の I/F 仕様を変更しました。
	Ver 2.28						1997-08/07
		(1) エラー処理を強化すると共に NNTP サーバからのエラー
		    メッセージを表示するようにしました。
	Ver 2.30						1997-08/27
		(1) .netrc に対応しました。
	Ver 2.32						1997-09/23
		(1) マイナーチェンジしました。
		(2) Macintosh の MumorMill で通信エラーが発生する場合、
		    -DUSE_NNTP_DATE をつけて下さい。
	Ver 2.34						1997-10/05
		(1) マイナーチェンジしました。
	Ver 2.40						1997-10/11
		(1) シグナルによるリトライ処理に暫定対応しました。
		(2) コンパイル時の Warning を減らしました。
	Ver 2.42						1997-10/21
		(1) signal が一部だけある処理系へ配慮しました。
	Ver 2.44						1997-11/24
		(1) コンパイル時の Warning を減らしました。
	Ver 2.46						1997-12/10
		(1) DONT_USE_REALNAME 指定時は必要がない時は gethostbyname
		    しないようにしました。
